<%#
Authored by: RH
Changes:
  SP - Completely refactored code. Created this partial file.
  RH - Minor change the syntax
  JA - Changed/Modified current styling
%>

  <%# Header portion of calendar %>
  <div class="calendar">
    <div class="container-fluid bg row text-center">
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center size-1">
          <%= find_week %>
        </p>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12">
        <p class="text-center size-2">
          <%= find_day %>
          <br>
        </p>
      </div>
    </div>
    <div class="row">
      <table class="table table-hover table-bordered">
        <thead>
          <tr>
            <% %w(Time Mon Tue Wed Thu Fri Sat Sun).each do |header_info|%>
            <th><%= header_info %></th>
            <% end %>

          </tr>
        </thead>

        <%# Content of calendar. Iterates through all events  %>
        <tbody>
          <% @events.each do |event| %>
          <tr>
            <th scope="row">
              <%= event.start_time.strftime("%H:%M").to_s %>
              -
              <%= event.end_time.strftime("%H:%M").to_s %>
            </th>
            <%# iterate through all the weeds to see where the event falls %>
            <% %w(monday tuesday wednesday thursday friday saturday sunday).each do |weekday| %>
            <td>
              <% if event.start_day.to_s.downcase == weekday %>
                <%= event.name %>
              <% end %>
              <% if event.start_day.to_s.downcase != event.end_day.to_s.downcase %>
                <% if event.end_day.to_s.downcase == weekday %>
                  <%= event.name %>
                <% end %>
              <% end %>
            </td>
            <% end %>
          </tr>
          <% end %>
            </tbody>
      </table>
    </div>
  </div>
