
<!--Modified:
      JA: Only displaying groups user is currently in,
              opposed to every single group
    -->
    
<h1><%= current_user.fname %>'s Groups</h1>

<table class = "table table-striped">
  <thead class="thead-inverse">
    <tr>
      <th>#</th>
      <th>Name(link to calendar on name?)</th>
      <th>Number of Users</th>
      <th colspan="3">Group options</th>
    </tr>
  </thead>

  <tbody>
    <% @groups.each do |group| %>
      <% group.users.each do |user| %>
        <% if user.email == current_user.email%>
            <tr>
              <td><%= group.id %></td>
              <td><%= group.name %></td>
              <td><%= group.users.distinct.count %></td>
              <td><%= button_to "Show", group, method: "get", class: "button" %></td>
            </tr>

      <% end %> <!--END OF IF-->
    <% end %> <!-- END OF GROUP -->
    <% end %>
  </tbody>
</table>

<br>
<%= button_to 'Create New Group', new_group_path, method: "get", class: "button" %>
